# Execution Instructions

Entry point for executing the {{ project_name }} project. Consult `GOAL.md` for project objectives and deliverables.

## Control Flow

```mermaid
flowchart TD
    subgraph Commands
        CMD["/process"]
    end

    subgraph Validation
        PRE["preflight.md"]
        PRE_RPT["PREFLIGHT-REPORT"]
    end

    subgraph "Project Manager"
        PM["project-manager-agent"]
        PM_RPT["PROJECT-ASSESSMENT.md"]
    end

    subgraph "Phase Execution"
        P0["Phase 0: Preprocessing"]
        P1["Phase 1: Analysis"]
        P2["Phase 2: Framework"]
        P3["Phase 3: Content Generation"]
        P4["Phase 4: Verification"]
        P5["Phase 5: Finalization"]
    end

    subgraph Artifacts
        GOAL["GOAL.md"]
        WF["workflow/workflow.md"]
        AGENTS["agents/*.md"]
        REFS["4-references/"]
        INPUT["1-input/"]
        WIP["2-work-in-progress/"]
        OUTPUT["3-output/"]
        CHECK["CHECKLIST.md"]
    end

    CMD --> PRE
    PRE -->|"validates"| GOAL
    PRE -->|"validates"| WF
    PRE -->|"validates"| AGENTS
    PRE --> PRE_RPT
    PRE_RPT -->|"PASS"| PM
    PRE_RPT -->|"FAIL"| ABORT["ABORT"]

    PM -->|"reads"| GOAL
    PM -->|"reads"| INPUT
    PM -->|"reads"| AGENTS
    PM -->|"reads"| WF
    PM --> PM_RPT

    PM_RPT --> P0
    P0 -->|"prepares"| INPUT
    P0 --> P1

    P1 -->|"reads"| INPUT
    P1 -->|"writes"| WIP
    P1 -->|"user approval"| P2

    P2 -->|"reads"| REFS
    P2 -->|"writes"| CHECK
    P2 --> P3

    P3 -->|"parallel agents"| WIP
    P3 -->|"updates"| CHECK
    P3 --> P4

    P4 -->|"verification-agent"| WIP
    P4 -->|"reads"| INPUT
    P4 -->|"reads"| REFS
    P4 -->|"PASS"| P5
    P4 -->|"FAIL"| P3

    P5 -->|"moves verified"| OUTPUT
    P5 --> DONE["COMPLETE"]

    style CMD fill:#e0f2fe,stroke:#0284c7,stroke-width:2px
    style PRE fill:#fef3c7,stroke:#f59e0b,stroke-width:2px
    style PM fill:#e9d5ff,stroke:#a855f7,stroke-width:2px
    style P0 fill:#d1fae5,stroke:#10b981,stroke-width:2px
    style P1 fill:#d1fae5,stroke:#10b981,stroke-width:2px
    style P2 fill:#d1fae5,stroke:#10b981,stroke-width:2px
    style P3 fill:#d1fae5,stroke:#10b981,stroke-width:2px
    style P4 fill:#fee2e2,stroke:#ef4444,stroke-width:2px
    style P5 fill:#d1fae5,stroke:#10b981,stroke-width:2px
    style ABORT fill:#fee2e2,stroke:#ef4444,stroke-width:2px
    style DONE fill:#d1fae5,stroke:#10b981,stroke-width:2px
```

**Legend**:
- Blue: Entry point (command)
- Amber: Validation (preflight)
- Purple: Project Manager (assessment)
- Green: Processing phases
- Red: Verification / abort points

## Prerequisites

Phase 0 must be completed before execution:
- Source materials prepared in `/1-input/`
- Input validated and organized
- Prerequisites verified

## Workflow Overview

The workflow defined in `/workflow/workflow.md`:

**Step 1: Source Understanding**
Read all source materials and create summaries capturing key themes and relevant content. These summaries provide context for all subsequent processing.

**Step 2: Contextual Awareness**
When processing any section, review all other summaries to maintain awareness of entire context. Ensures coherent cross-references and consistent terminology across outputs.

**Step 3: Structure Analysis**
Review source organization to understand hierarchical structure and relationships. Use as guide for content organization and mapping.

**Step 4: Output Structure Design**
Design target structure mapping source materials to output deliverables. Define specific content elements ensuring logical flow and comprehensive coverage.

**Step 5: Processing Plan and Approval**
Create detailed execution plan specifying which sources contribute to each output. Present plan to user for approval before content generation begins.

**Step 6: Parallel Agent Processing**
Generate outputs using separate agents with maximum {{ max_parallel_agents }} running concurrently. Each agent maintains contextual awareness through summaries while processing independently.

**Step 7: Checklist Management**
Create and maintain CHECKLIST.md tracking all items to be processed, current status (pending/in-progress/completed), and processing statistics.

**Step 8: Status Updates**
Agents update status in real-time as work begins and completes, providing visibility into processing progress throughout execution.

Consult `/workflow/workflow.md` for complete workflow definition and `/workflow/README.md` for execution approach.

## Execution Resources

- **Workflow definition**: `/workflow/workflow.md`
- **Phase details**: `/workflow/phase-*.md`
- **Agent definitions**: `/agents/`
- **Reference standards**: `/4-references/`

## Invoking Execution

Use the `/process` command to execute the full workflow:

```
/process
```

This will:
1. Run preflight validation (abort if fails)
2. Execute reconnaissance agent
3. Execute phases 0-5 in sequence
4. Deliver verified outputs to `/3-output/`

For manual phase execution:
```
Execute Phase [N]: [Phase Name]
```

Example:
```
Execute Phase 1: Preparation and Source Analysis
```
